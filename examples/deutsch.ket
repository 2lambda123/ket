from ket.lib import pauli_prepare, pauli_measure

def balanced_oracle(x, y):
    ctrl(x, X, y)

def constant_oracle(x, y):
    X(y)

def deutsch(oracle):
    x, y = quant(2)
    pauli_prepare(X, x, +1)
    pauli_prepare(X, y, -1)
    oracle(x, y)
    return pauli_measure(X, x)

if __name__ == '__main__':
    print("Balanced", deutsch(balanced_oracle).get())
    print("Constant", deutsch(constant_oracle).get())
